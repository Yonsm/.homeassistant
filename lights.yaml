- platform: zhimrbond
  name: 书房晾衣灯
  did: 57379167
- platform: mqtt
  name: 客厅筒灯
  state_topic: Hassmart1/relay/0
  command_topic: Hassmart1/relay/0/set
  availability_topic: Hassmart1/status
- platform: mqtt
  name: 餐厅筒灯
  state_topic: Hassmart1/relay/1
  command_topic: Hassmart1/relay/1/set
  availability_topic: Hassmart1/status
- platform: mqtt
  name: 洗手间灯
  state_topic: Hassmart2/relay/0
  command_topic: Hassmart2/relay/0/set
  availability_topic: Hassmart2/status
- platform: mqtt
  name: 浴室灯
  state_topic: Hassmart3/relay/0
  command_topic: Hassmart3/relay/0/set
  availability_topic: Hassmart3/status
- platform: mqtt
  name: 过道柜灯
  state_topic: Sonoff1/relay/0
  command_topic: Sonoff1/relay/0/set
  availability_topic: Sonoff1/status
- platform: mqtt
  name: 过道筒灯
  state_topic: Sonoff2/relay/0
  command_topic: Sonoff2/relay/0/set
  availability_topic: Sonoff2/status
- platform: mqtt
  name: 主卧吸顶灯
  state_topic: NodeMCU5/analog
  state_value_template: '{% if (value | int > 1000) or ((value | int > 600) and is_state("sun.sun", "below_horizon")) %}3526,1658,426,418,426,1292,426,420,426,1288,428,418,426,1290,430,418,426,1290,428,418,426,418,426,416,426,1290,428,416,430,1290,428,1290,428,418,428,1288,428,416,428,418,426,418,428,1288,428,1288,428,1290,428,418,428,1290,428,418,428,1290,428,416,428,1290,428,1290,428,416,428,418,426,418,428,416,428,418,426,416,428,418,426,416,428,416,428,418,426,1292,426,418,428,1290,428,416,428,1292,424,1292,424,1294,424,418,426,1290,426,420,424,418,426,420,424,422,424,1294,424,420,424,420,424,1294,424,420,424,422,422,422,422,1298,422,422,422,1296,422,422,422,1,2,38{% else %}3528,1658,426,418,426,1292,380,462,382,1334,382,464,382,1338,380,462,382,1336,382,462,382,462,382,462,382,1336,382,462,382,1336,380,1336,382,464,382,1338,378,462,384,462,382,464,380,1336,382,1336,382,1336,382,462,382,1334,384,464,382,1336,382,462,382,1336,382,1336,382,464,382,462,382,464,382,464,380,462,382,462,382,464,382,464,380,464,382,464,382,464,380,1338,380,462,382,464,382,462,380,464,380,464,380,464,380,1334,382,464,380,464,380,464,380,464,382,1336,382,464,382,462,382,1334,382,464,382,464,382,464,380,1336,382,1336,382,464,382,1338,380,1,2,38{% endif %}'
  command_topic: NodeMCU5/irout/set
  availability_topic: NodeMCU5/status
  payload_on: 3526,1658,426,418,426,1292,426,420,426,1288,428,418,426,1290,430,418,426,1290,428,418,426,418,426,416,426,1290,428,416,430,1290,428,1290,428,418,428,1288,428,416,428,418,426,418,428,1288,428,1288,428,1290,428,418,428,1290,428,418,428,1290,428,416,428,1290,428,1290,428,416,428,418,426,418,428,416,428,418,426,416,428,418,426,416,428,416,428,418,426,1292,426,418,428,1290,428,416,428,1292,424,1292,424,1294,424,418,426,1290,426,420,424,418,426,420,424,422,424,1294,424,420,424,420,424,1294,424,420,424,422,422,422,422,1298,422,422,422,1296,422,422,422,1,2,38
  payload_off: 3528,1658,426,418,426,1292,380,462,382,1334,382,464,382,1338,380,462,382,1336,382,462,382,462,382,462,382,1336,382,462,382,1336,380,1336,382,464,382,1338,378,462,384,462,382,464,380,1336,382,1336,382,1336,382,462,382,1334,384,464,382,1336,382,462,382,1336,382,1336,382,464,382,462,382,464,382,464,380,462,382,462,382,464,382,464,380,464,382,464,382,464,380,1338,380,462,382,464,382,462,380,464,380,464,380,464,380,1334,382,464,380,464,380,464,380,464,382,1336,382,464,382,462,382,1334,382,464,382,464,382,464,380,1336,382,1336,382,464,382,1338,380,1,2,38
  brightness_state_topic: NodeMCU5/analog
  brightness_command_topic: NodeMCU5_/analog/set
  brightness_scale: 1024
- platform: mqtt
  name: 儿童房吸顶灯
  command_topic: NodeMCU6/irout/set
  availability_topic: NodeMCU6/status
  payload_on: 3526,1658,426,418,426,1292,426,420,426,1288,428,418,426,1290,430,418,426,1290,428,418,426,418,426,416,426,1290,428,416,430,1290,428,1290,428,418,428,1288,428,416,428,418,426,418,428,1288,428,1288,428,1290,428,418,428,1290,428,418,428,1290,428,416,428,1290,428,1290,428,416,428,418,426,418,428,416,428,418,426,416,428,418,426,416,428,416,428,418,426,1292,426,418,428,1290,428,416,428,1292,424,1292,424,1294,424,418,426,1290,426,420,424,418,426,420,424,422,424,1294,424,420,424,420,424,1294,424,420,424,422,422,422,422,1298,422,422,422,1296,422,422,422,1,2,38
  payload_off: 3528,1658,426,418,426,1292,380,462,382,1334,382,464,382,1338,380,462,382,1336,382,462,382,462,382,462,382,1336,382,462,382,1336,380,1336,382,464,382,1338,378,462,384,462,382,464,380,1336,382,1336,382,1336,382,462,382,1334,384,464,382,1336,382,462,382,1336,382,1336,382,464,382,462,382,464,382,464,380,462,382,462,382,464,382,464,380,464,382,464,382,464,380,1338,380,462,382,464,382,462,380,464,380,464,380,464,380,1334,382,464,380,464,380,464,380,464,382,1336,382,464,382,462,382,1334,382,464,382,464,382,464,380,1336,382,1336,382,464,382,1338,380,1,2,38
- platform: mqtt
  name: 餐厅检测仪
  schema: template
  command_topic: device/zm1/b0f8931ea148/set
  state_topic: device/zm1/b0f8931ea148/state
  command_on_template: '{"mac":"b0f8931ea148","brightness":{%- if brightness is defined -%}{{ ((brightness-1) / 64 )|int +1 }}{%- else -%}4{%- endif -%}}'
  command_off_template: '{"mac":"b0f8931ea148","brightness":0}'
  state_template: '{%- if value_json.brightness == 0 -%}off{%- else -%}on{%- endif -%}'
  brightness_template: '{%- if value_json.brightness is defined -%}{{ ( value_json.brightness *64 )|int }}{%- endif -%}'
- platform: mqtt
  name: 过道检测仪
  schema: template
  command_topic: device/zm1/b0f893249132/set
  state_topic: device/zm1/b0f893249132/state
  command_on_template: '{"mac":"b0f893249132","brightness":{%- if brightness is defined -%}{{ ((brightness-1) / 64 )|int +1 }}{%- else -%}4{%- endif -%}}'
  command_off_template: '{"mac":"b0f893249132","brightness":0}'
  state_template: '{%- if value_json.brightness == 0 -%}off{%- else -%}on{%- endif -%}'
  brightness_template: '{%- if value_json.brightness is defined -%}{{ ( value_json.brightness *64 )|int }}{%- endif -%}'
